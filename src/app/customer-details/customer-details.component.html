<form [formGroup]="detailsForm">
  <!-- we will place our fields here -->

  <!-- name -->
  <div class="form-group">
      <label>Name</label>
      <input type="text" formControlName="name">
      <!--display error message if name is not valid-->
      <small *ngIf="!detailsForm.controls.name.valid" class="text-danger">
          Name is required (minimum 5 characters).
      </small>
  </div>

  <div formArrayName="address">
    <div *ngFor="let address of detailsForm.controls.address.controls; let i=index">
        <div>
            <span>Address {{i + 1}}</span>
            <span *ngIf="detailsForm.controls.address.controls.length > 1" >
            </span>
        </div>
        <div [formGroupName]="i">
            <div>
                <label>street</label>
                <input type="text" formControlName="street">
                <small [hidden]="detailsForm.controls.address.controls[i].controls.street.valid">
                    Street is required
                </small>
            </div>
            <div>
                <label>postcode</label>
                <input type="text" formControlName="postcode">
            </div>
        </div>
    </div>
  </div>
</form>